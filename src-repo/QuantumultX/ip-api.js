const country0 = "MUC";
const region0 = "韦恩大厦";
const city0 = "高谭市";
const ips0 = "MCU.com";

const map = {"薩":"萨","濟":"济","橋":"桥","魯":"鲁","溫":"温", "區":"区", "奧":"奥", "羅":"罗", "爾":"尔", "縣":"县", "蘭":"兰", "華":"华","壢":"坜","裏":"里", "約":"约", "熱":"热", "內":"内", "盧":"卢","萬":"万","與":"与","專":"专","業":"业","東":"东","絲":"丝","丟":"丢","兩":"两","嚴":"严","喪":"丧","個":"个","豐":"丰","臨":"临","為":"为","麗":"丽","舉":"举","麼":"么","義":"义","烏":"乌","樂":"乐","喬":"乔","習":"习","鄉":"乡","書":"书","買":"买","亂":"乱","爭":"争","於":"于","虧":"亏","雲":"云","亞":"亚","產":"产","畝":"亩","親":"亲","億":"亿","價":"价","儀":"仪","億":"亿","優":"优","會":"会","傴":"伛","偉":"伟","傳":"传","傷":"伤","倫":"伦","偽":"伪","體":"体","佇":"伫","佈":"布","佔":"占","協":"协","單":"单","衛":"卫","卻":"却","廠":"厂","歷":"历","參":"参","雙":"双","發":"发","變":"变","叢":"丛","台":"台","葉":"叶","後":"后","員":"员","問":"问","國":"国","圖":"图","圍":"围","園":"园","團":"团","壞":"坏","壩":"坝","壯":"壮","聲":"声","壺":"壶","處":"处","備":"备","復":"复","夠":"够","夢":"梦","奪":"夺","奮":"奋","婦":"妇","協":"协","絕":"绝","愛":"爱","觀":"观","訴":"诉","尋":"寻","導":"导","對":"对","屬":"属","岡":"冈","島":"岛","崗":"岗","峽":"峡","嶺":"岭","嶽":"岳","巖":"岩","幣":"币","廣":"广","廳":"厅","應":"应","廟":"庙","庫":"库","廢":"废","開":"开","張":"张","彈":"弹","強":"强","歸":"归","當":"当","錄":"录","彙":"汇","彈":"弹","懷":"怀","總":"总","戰":"战","戶":"户","撥":"拨","擴":"扩","擇":"择","擊":"击","擠":"挤","擁":"拥","擬":"拟","擾":"扰","敵":"敌","數":"数","斷":"断","時":"时","晉":"晋","曆":"历","會":"会","朧":"胧","東":"东","極":"极","標":"标","榮":"荣","構":"构","樣":"样","樸":"朴","樹":"树","機":"机","橫":"横","檔":"档","檢":"检","歡":"欢","歲":"岁","歷":"历","歐":"欧","殘":"残","殼":"壳","毆":"殴","氣":"气","漢":"汉","沒":"没","災":"灾","為":"为","烏":"乌","無":"无","煉":"炼","煙":"烟","熱":"热","燦":"灿","營":"营","爐":"炉","爛":"烂","爭":"争","爺":"爷","牆":"墙","牽":"牵","犧":"牺","狀":"状","獨":"独","現":"现","環":"环","產":"产","畫":"画","當":"当","瘋":"疯","發":"发","盜":"盗","盞":"盏","盡":"尽","監":"监","盤":"盘","矯":"矫","礎":"础","禍":"祸","禪":"禅","禮":"礼","稅":"税","穎":"颖","穩":"稳","窩":"窝","簡":"简","糧":"粮","糾":"纠","紀":"纪","純":"纯","紐":"纽","級":"级","納":"纳","紙":"纸","紛":"纷","終":"终","組":"组","經":"经","結":"结","給":"给","絕":"绝","統":"统","絲":"丝","綠":"绿","維":"维","緊":"紧","線":"线","編":"编","練":"练","縮":"缩","績":"绩","繼":"继","繩":"绳","繪":"绘","繫":"系","纖":"纤","總":"总","聖":"圣","聞":"闻","聯":"联","聰":"聪","職":"职","腦":"脑","腳":"脚","臉":"脸","舊":"旧","與":"与","興":"兴","舉":"举","艦":"舰","藝":"艺","萬":"万","蔣":"蒋","葉":"叶","藍":"蓝","蘇":"苏","號":"号","處":"处","虛":"虚","衛":"卫","觀":"观","視":"视","訓":"训","評":"评","詞":"词","詩":"诗","誌":"志","認":"认","誕":"诞","語":"语","誠":"诚","調":"调","談":"谈","請":"请","論":"论","諸":"诸","諾":"诺","讀":"读","變":"变","貓":"猫","貝":"贝","負":"负","財":"财","貨":"货","販":"贩","責":"责","貴":"贵","買":"买","貿":"贸","賀":"贺","資":"资","賓":"宾","賞":"赏","賣":"卖","賠":"赔","賬":"账","質":"质","賴":"赖","贊":"赞","贈":"赠","贏":"赢","趙":"赵","趨":"趋","跡":"迹","車":"车","軋":"轧","軍":"军","軌":"轨","軒":"轩","軟":"软","較":"较","載":"载","輸":"输","輕":"轻","輩":"辈","輪":"轮","輯":"辑","輸":"输","輻":"辐","轉":"转","農":"农","邊":"边","達":"达","遞":"递","遠":"远","適":"适","選":"选","遲":"迟","遼":"辽","醫":"医","釋":"释","鑄":"铸","鎮":"镇","鐘":"钟","鐵":"铁","鑽":"钻","長":"长","門":"门","閣":"阁","閱":"阅","隊":"队","陽":"阳","陰":"阴","際":"际","險":"险","雜":"杂","雙":"双","雲":"云","電":"电","預":"预","頗":"颇","領":"领","頭":"头","頻":"频","題":"题","額":"额","風":"风","飛":"飞","餐":"餐","馬":"马","駕":"驾","駛":"驶","騎":"骑","驗":"验","高":"高","麼":"么","麼":"么","麼":"么","鳳":"凤","鷹":"鹰","鳥":"鸟","鹽":"盐","麗":"丽","黃":"黄","黑":"黑","點":"点","齒":"齿","龍":"龙","灣":"湾","臺":"台","紐":"纽","廣":"广","滙":"汇","滙豐":"汇丰"};

const flags = new Map([["AC","🇦🇨"],["AD","🇦🇩"],["AE","🇦🇪"],["AF","🇦🇫"],["AG","🇦🇬"],["AI","🇦🇮"],["AL","🇦🇱"],["AM","🇦🇲"],["AO","🇦🇴"],["AQ","🇦🇶"],["AR","🇦🇷"],["AS","🇦🇸"],["AT","🇦🇹"],["AU","🇦🇺"],["AW","🇦🇼"],["AX","🇦🇽"],["AZ","🇦🇿"],["BA","🇧🇦"],["BB","🇧🇧"],["BD","🇧🇩"],["BE","🇧🇪"],["BF","🇧🇫"],["BG","🇧🇬"],["BH","🇧🇭"],["BI","🇧🇮"],["BJ","🇧🇯"],["BM","🇧🇲"],["BN","🇧🇳"],["BO","🇧🇴"],["BR","🇧🇷"],["BS","🇧🇸"],["BT","🇧🇹"],["BV","🇧🇻"],["BW","🇧🇼"],["BY","🇧🇾"],["BZ","🇧🇿"],["CA","🇨🇦"],["CD","🇨🇩"],["CF","🇨🇫"],["CG","🇨🇬"],["CH","🇨🇭"],["CI","🇨🇮"],["CK","🇨🇰"],["CL","🇨🇱"],["CM","🇨🇲"],["CN","🇨🇳"],["CO","🇨🇴"],["CP","🇨🇵"],["CR","🇨🇷"],["CU","🇨🇺"],["CV","🇨🇻"],["CW","🇨🇼"],["CX","🇨🇽"],["CY","🇨🇾"],["CZ","🇨🇿"],["DE","🇩🇪"],["DG","🇩🇬"],["DJ","🇩🇯"],["DK","🇩🇰"],["DM","🇩🇲"],["DO","🇩🇴"],["DZ","🇩🇿"],["EA","🇪🇦"],["EC","🇪🇨"],["EE","🇪🇪"],["EG","🇪🇬"],["EH","🇪🇭"],["ER","🇪🇷"],["ES","🇪🇸"],["ET","🇪🇹"],["EU","🇪🇺"],["FI","🇫🇮"],["FJ","🇫🇯"],["FK","🇫🇰"],["FM","🇫🇲"],["FO","🇫🇴"],["FR","🇫🇷"],["GA","🇬🇦"],["GB","🇬🇧"],["GD","🇬🇩"],["GE","🇬🇪"],["GF","🇬🇫"],["GH","🇬🇭"],["GI","🇬🇮"],["GL","🇬🇱"],["GM","🇬🇲"],["GN","🇬🇳"],["GP","🇬🇵"],["GR","🇬🇷"],["GT","🇬🇹"],["GU","🇬🇺"],["GW","🇬🇼"],["GY","🇬🇾"],["HK","🇭🇰"],["HN","🇭🇳"],["HR","🇭🇷"],["HT","🇭🇹"],["HU","🇭🇺"],["ID","🇮🇩"],["IE","🇮🇪"],["IL","🇮🇱"],["IM","🇮🇲"],["IN","🇮🇳"],["IQ","🇮🇶"],["IR","🇮🇷"],["IS","🇮🇸"],["IT","🇮🇹"],["JM","🇯🇲"],["JO","🇯🇴"],["JP","🇯🇵"],["KE","🇰🇪"],["KG","🇰🇬"],["KH","🇰🇭"],["KI","🇰🇮"],["KM","🇰🇲"],["KN","🇰🇳"],["KP","🇰🇵"],["KR","🇰🇷"],["KW","🇰🇼"],["KY","🇰🇾"],["KZ","🇰🇿"],["LA","🇱🇦"],["LB","🇱🇧"],["LC","🇱🇨"],["LI","🇱🇮"],["LK","🇱🇰"],["LR","🇱🇷"],["LS","🇱🇸"],["LT","🇱🇹"],["LU","🇱🇺"],["LV","🇱🇻"],["LY","🇱🇾"],["MA","🇲🇦"],["MC","🇲🇨"],["MD","🇲🇩"],["MG","🇲🇬"],["MH","🇲🇭"],["MK","🇲🇰"],["ML","🇲🇱"],["MM","🇲🇲"],["MN","🇲🇳"],["MO","🇲🇴"],["MP","🇲🇵"],["MQ","🇲🇶"],["MR","🇲🇷"],["MS","🇲🇸"],["MT","🇲🇹"],["MU","🇲🇺"],["MV","🇲🇻"],["MW","🇲🇼"],["MX","🇲🇽"],["MY","🇲🇾"],["MZ","🇲🇿"],["NA","🇳🇦"],["NC","🇳🇨"],["NE","🇳🇪"],["NF","🇳🇫"],["NG","🇳🇬"],["NI","🇳🇮"],["NL","🇳🇱"],["NO","🇳🇴"],["NP","🇳🇵"],["NR","🇳🇷"],["NZ","🇳🇿"],["OM","🇴🇲"],["PA","🇵🇦"],["PE","🇵🇪"],["PF","🇵🇫"],["PG","🇵🇬"],["PH","🇵🇭"],["PK","🇵🇰"],["PL","🇵🇱"],["PM","🇵🇲"],["PR","🇵🇷"],["PS","🇵🇸"],["PT","🇵🇹"],["PW","🇵🇼"],["PY","🇵🇾"],["QA","🇶🇦"],["RE","🇷🇪"],["RO","🇷🇴"],["RS","🇷🇸"],["RU","🇷🇺"],["RW","🇷🇼"],["SA","🇸🇦"],["SB","🇸🇧"],["SC","🇸🇨"],["SD","🇸🇩"],["SE","🇸🇪"],["SG","🇸🇬"],["SI","🇸🇮"],["SK","🇸🇰"],["SL","🇸🇱"],["SM","🇸🇲"],["SN","🇸🇳"],["SO","🇸🇴"],["SR","🇸🇷"],["ST","🇸🇹"],["SV","🇸🇻"],["SY","🇸🇾"],["SZ","🇸🇿"],["TC","🇹🇨"],["TD","🇹🇩"],["TG","🇹🇬"],["TH","🇹🇭"],["TJ","🇹🇯"],["TL","🇹🇱"],["TM","🇹🇲"],["TN","🇹🇳"],["TO","🇹🇴"],["TR","🇹🇷"],["TT","🇹🇹"],["TV","🇹🇻"],["TW","🇨🇳"],["TZ","🇹🇿"],["UA","🇺🇦"],["UG","🇺🇬"],["UK","🇬🇧"],["UM","🇺🇲"],["US","🇺🇸"],["UY","🇺🇾"],["UZ","🇺🇿"],["VA","🇻🇦"],["VC","🇻🇨"],["VE","🇻🇪"],["VG","🇻🇬"],["VI","🇻🇮"],["VN","🇻🇳"],["VU","🇻🇺"],["WS","🇼🇸"],["YE","🇾🇪"],["YT","🇾🇹"],["ZA","🇿🇦"],["ZM","🇿🇲"],["ZW","🇿🇼"]]);

function t2s(str) {
  if (!str) return "";
  let res = "";
  for (let i = 0; i < str.length; i++) {
    const c = str[i];
    res += map[c] || c;
  }
  return res;
}

if ($response.statusCode != 200) {
  $done(null);
}

let body = $response.body;
let obj = JSON.parse(body);

const rawCountry = (obj['country'] || "").trim();
const rawRegionName = (obj['regionName'] || "").trim();
const rawCity = (obj['city'] || "").trim();
const rawIsp = (obj['isp'] || "").trim();

const country = country_ValidCheck(rawCountry);
const region = Area_check(rawRegionName);
const city = City_ValidCheck(rawCity);
const isp = ISP_ValidCheck(rawIsp);

const ip = obj['query'];
const lat = obj['lat'];
const lon = obj['lon'];
const timezone = obj['timezone'];

let displayCity = (city !== country && city !== region) ? city : '';

let title = (flags.get(obj['countryCode']) || "") + ' ' + country + ' ' + region;
let subtitle = (displayCity ? displayCity + ' · ' : '') + ip + ' · ' + isp;

let description =
  '--------------------------------------\n' +
  '🌍 国家 / Country:\n' + obj['countryCode'] + ' ' + country + '\n\n' +
  '📍 地区 / Region:\n' + obj['region'] + ' ' + region + '\n\n' +
  '🏙️ 城市 / City:\n' + obj['city'] + '\n\n' +
  '🌐 IP地址 / IP:\n' + ip + '\n\n' +
  '🏢 运营商 / ISP:\n' + isp + '\n\n' +
  '📌 经纬度 / Lat & Lon:\n' + lat + ' / ' + lon + '\n\n' +
  '🕒 时区 / Timezone:\n' + timezone + '\n' +
  '--------------------------------------';

$done({
  title: t2s(title),
  subtitle: t2s(subtitle),
  ip: ip,
  description: t2s(description)
});

// 国家映射表
function country_ValidCheck(para) {
   const countryMap = {
     "中華民國" : "台湾",
     "中华民国" : "台湾",
     "俄罗斯联邦" : "俄罗斯",
     "德意志联邦共和国" : "德国",
     "Libya" : "利比亚",
 };

 return countryMap[para ? para.trim() : ""] || para || country0;
};

// 地区映射表
function Area_check(para) {
  const areaMap = {
    // AE - 阿拉伯联合酋长国 - United Arab Emirates - 西亚 - West Asia
    "Dubai": "迪拜",
    "Fujairah": "富查伊拉",
    "Imārat Umm al Qaywayn": "乌姆盖万",

    // AL - 阿尔巴尼亚共和国 - Republic of Albania - 南欧 - Southern Europe
    "Tirana": "地拉那",

    // AR - 阿根廷共和国 - Argentine Republic - 南美洲 - South America
    "Buenos Aires F.D.": "布宜诺斯艾利斯",

    // AT - 奥地利共和国 - Republic of Austria - 中欧 - Central Europe
    "Vienna": "维也纳",

    // AU - 澳大利亚联邦 - Commonwealth of Australia - 大洋洲 - Oceania
    "New South Wales": "新南威尔士州",
    "new south wales": "新南威尔士州",
    "Queensland": "昆士兰州",
    "Victoria": "维多利亚州",

    // AZ - 阿塞拜疆共和国 - Republic of Azerbaijan - 西亚 - West Asia
    "Baku City": "巴库市",
    "Lankaran Rayon": "连科兰区",

    // BE - 比利时王国 - Kingdom of Belgium - 西欧 - Western Europe
    "布鲁塞尔首都大区": "布鲁塞尔",

    // BG - 保加利亚共和国 - Republic of Bulgaria - 东欧 - Eastern Europe
    "Sofia-Capital": "索非亚市",

    // BR - 巴西联邦共和国 - Federative Republic of Brazil - 南美洲 - South America
    "Sao Paulo": "圣保罗州",

    // CA - 加拿大 - Canada - 北美 - Northern America
    "Ontario": "安大略省",
    "Quebec": "魁北克省",
    "不列颠哥伦比亚省" : "哥伦比亚省",

    // CH - 瑞士联邦 - Swiss Confederation - 中欧 - Central Europe
    "Zurich": "苏黎世州",

    // CL - 智利共和国 - Republic of Chile - 南美洲 - South America
    "圣地亚哥首都大区": "圣地亚哥大区",

    // CN - 中华人民共和国 - China - 东亚 - East Asia
    "Kowloon": "九龙城区",
    "Sai Kung District": "西贡区",
    "Sham Shui Po": "深水埗区",
    "Tsuen Wan District": "荃湾区",
    "Wong Tai Sin": "黄大仙区",

    // CO - 哥伦比亚共和国 - Republic of Colombia - 南美洲 - South America
    "Bogota D.C.": "波哥大首都区",

    // CR - 哥斯达黎加共和国 - Republic of Costa Rica - 中美洲 - Central America
    "Provincia de San José": "圣荷西省",

    // CU - 古巴共和国 - Republic of Cuba - 加勒比地区 - Caribbean
    "Havana": "哈瓦那",

    // CZ - 捷克共和国 - Czech Republic - 中欧 - Central Europe
    "Prague": "布拉格市",

    // DE - 德意志联邦共和国 - Federal Republic of Germany - 中欧 - Central Europe
    "Bavaria": "巴伐利亚州",
    "Berlin": "柏林",
    "Hesse": "黑森州",
    "石勒苏益格-荷尔斯泰因": "石荷州",

    // DK - 丹麦王国 - Kingdom of Denmark - 北欧 - Northern Europe
    "Capital Region": "哥本哈根大区",

    // ES - 西班牙王国 - Kingdom of Spain - 南欧 - Southern Europe
    "Catalonia": "加泰罗尼亚自治区",
    "Madrid": "马德里自治区",

    // FR - 法兰西共和国 - French Republic - 西欧 - Western Europe
    "Auvergne-Rhône-Alpes": "奥罗阿大区",
    "Île-de-France": "法兰西岛大区",
    "奧弗涅-羅訥-阿爾卑斯大區": "奥罗阿大区",
    "普罗旺斯-阿尔卑斯-蔚蓝海岸大区": "普阿蓝大区",
    "法兰西岛": "法兰西岛大区",

    // GB - 大不列颠及北爱尔兰联合王国 - United Kingdom - 西欧 - Western Europe
    "London": "伦敦",
    "Wales": "威尔士",

    // GH - 加纳共和国 - Republic of Ghana - 西非 - West Africa
    "Greater Accra Region": "大阿克拉地区",

    // GL - 格陵兰岛 - Greenland - 北美 - Northern America
    "Sermersooq": "塞梅索克",

    // GR - 希腊共和国 - Hellenic Republic - 南欧 - Southern Europe
    "Attica": "阿提卡",

    // HR - 克罗地亚共和国 - Republic of Croatia - 南欧 - Southern Europe
    "City of Zagreb": "萨格勒布市",

    // HU - 匈牙利 - Hungary - 中欧 - Central Europe
    "Budapest": "布达佩斯",

    // ID - 印度尼西亚共和国 - Republic of Indonesia - 东南亚 - Southeast Asia
    "Jakarta": "雅加达",

    // IL - 以色列国 - State of Israel - 西亚 - West Asia
    "Tel Aviv": "特拉维夫区",

    // IN - 印度共和国 - Republic of India - 南亚 - South Asia
    "National Capital Territory of Delhi": "德里",

    // IS - 冰岛共和国 - Republic of Iceland - 北欧 - Northern Europe
    "Southern Peninsula": "雷克雅内斯半岛",

    // IT - 意大利共和国 - Italian Republic - 南欧 - Southern Europe
    "Lazio": "拉齐奥大区",
    "Lombardy": "伦巴第大区",

    // JP - 日本国 - Japan - 东亚 - East Asia
    "Osaka": "大阪府",
    "Ōsaka": "大阪府",
    "Tokyo": "东京都",

    // KH - 柬埔寨王国 - Kingdom of Cambodia - 东南亚 - Southeast Asia
    "Phnom Penh": "金边市",

    // KR - 大韩民国 - Republic of Korea - 东亚 - East Asia
    "Daegu": "大邱广域市",
    "Gangwon-do": "江原道",
    "Incheon": "仁川广域市",
    "Jeollabuk-do": "全罗北道",
    "North Chungcheong": "忠清北道",
    "Seoul": "首尔特别市",

    // KZ - 哈萨克斯坦共和国 - Republic of Kazakhstan - 中亚 - Central Asia
    "Almaty": "阿拉木图州",
    "Almaty Oblysy": "阿拉木图州",
    "Aqmola": "阿克莫拉州",
    "Astana": "阿斯塔纳市",
    "Zhambyl Oblysy": "江布尔州",

    // LU - 卢森堡大公国 - Grand Duchy of Luxembourg - 西欧 - Western Europe
    "Diekirch": "迪基希区",
    "Luxembourg": "卢森堡市",

    // LY - 利比亚国 - State of Libya - 北非 - North Africa
    "Sha‘bīyat Banghāzī": "班加西省",
    "Tripoli": "的黎波里",

    // MA - 摩洛哥王国 - Kingdom of Morocco - 北非 - North Africa
    "Fès-Meknès": "非斯-梅克内斯大区",

    // MD - 摩尔多瓦共和国 - Republic of Moldova - 东欧 - Eastern Europe
    "Chișinău Municipality": "基希讷乌",

    // MN - 蒙古国 - Mongolia - 东亚 - East Asia
    "Ulaanbaatar": "乌兰巴托市",

    // MU - 毛里求斯共和国 - Republic of Mauritius - 东非 - East Africa
    "Grand Port District": "大港区",

    // MY - 马来西亚 - Malaysia - 东南亚 - Southeast Asia
    "Kuala Lumpur": "吉隆坡",

    // NG - 尼日利亚联邦共和国 - Republic of Nigeria - 西非 - West Africa
    "Lagos": "拉各斯",

    // NL - 荷兰王国 - Kingdom of the Netherlands - 西欧 - Western Europe
    "North Holland": "北荷兰省",

    // NO - 挪威王国 - Kingdom of Norway - 北欧 - Northern Europe
    "Oslo County": "奥斯陆市",
    "Viken": "维肯郡",

    // NP - 尼泊尔 - Nepal - 南亚 - South Asia
    "Bagmati Province": "巴格马蒂省",

    // NZ - 新西兰 - New Zealand - 大洋洲 - Oceania
    "Auckland": "奥克兰",

    // OM - 阿曼苏丹国 - Sultanate of Oman - 西亚 - West Asia
    "Muscat": "马斯喀特省",

    // PH - 菲律宾共和国 - Republic of the Philippines - 东南亚 - Southeast Asia
    "Metro Manila": "大马尼拉都会区",
    "Northern Mindanao": "北棉兰老大区",

    // PL - 波兰共和国 - Republic of Poland - 东欧 - Eastern Europe
    "Mazovia": "马佐夫舍省",

    // RO - 罗马尼亚 - Romania - 东欧 - Eastern Europe
    "București": "布加勒斯特",

    // RS - 塞尔维亚共和国 - Republic of Serbia - 南欧 - Southern Europe
    "Belgrade": "贝尔格莱德",

    // RU - 俄罗斯联邦 - Russian Federation - 东欧/北亚 - Europe/Asia
    "Moscow": "莫斯科州",
    "St.-Petersburg": "圣彼得堡",
    "Tatarstan Republic": "鞑靼斯坦共和国",

    // SB - 所罗门群岛 - Solomon Islands - 大洋洲 - Oceania
    "Honiara": "霍尼亚拉",

    // SO - 索马里联邦共和国 - Republic of Somalia - 东非 - East Africa
    "Banaadir": "班纳迪尔地区",

    // TH - 泰王国 - Kingdom of Thailand - 东南亚 - Southeast Asia
    "Ang Thong": "红统府",

    // TW - 台湾 - Taiwan - 东亚 - East Asia
    "Changhua": "彰化县",
    "Taichung City": "台中市",
    "Taipei": "台北市",
    "Taiwan": "台湾",
    "Taoyuan": "桃园市",
    "Yunlin": "云林县",
    "臺灣省 or 台湾省": "台北市",

    // TZ - 坦桑尼亚联合共和国 - Republic of Tanzania - 东非 - East Africa
    "Zanzibar Urban/West": "桑给巴尔市",

    // UA - 乌克兰 - Ukraine - 东欧 - Eastern Europe
    "Kyiv City": "基辅州",

    // US - 美利坚合众国 - United States of America - 北美 - Northern America
    "Arizona": "亚利桑那州",
    "California": "加利福尼亚州",
    "New York": "纽约州",
    "Texas": "德克萨斯州",
    "加州": "加利福尼亚州",

    // UZ - 乌兹别克斯坦共和国 - Republic of Uzbekistan - 中亚 - Central Asia
    "Tashkent": "塔什干市",

    // VE - 委内瑞拉玻利瓦尔共和国 - Republic of Venezuela - 南美洲 - South America
    "Miranda": "米兰达州",

    // VN - 越南社会主义共和国 - Republic of Vietnam - 东南亚 - Southeast Asia
    "Da Nang City": "岘港市",
    "Hai Phong": "海防市",
    "Hanoi": "河内市",
    "Ho Chi Minh City (HCMC)": "胡志明市",
    "Hòa Bình Province": "和平省",
    "Hải Dương Province": "海阳省"
  };

  return areaMap[para ? para.trim() : ""] || para || region0;
};

function City_ValidCheck(para) {
  const cityMap = {
    // AE - 阿联酋 - 阿布扎比
    "Masdar City": "马斯达尔城",

    // AE - 阿联酋 - 乌姆盖万
    "Muhadhdhib": "穆哈德布地区",

    // MA - 摩洛哥 - 非斯-梅克内斯大区
    "Fes": "非斯",

    // AM - 亚美尼亚 - 埃里温
    "Yerevan": "埃里温",

    // AR - 阿根廷 - 科尔多瓦省
    "Cruz del Eje": "克鲁斯德尔埃赫",

    // AT - 奥地利 - 维也纳州
    "Vienna": "维也纳",

    // AU - 澳大利亚 - 维多利亚州
    "Melton": "梅尔顿",

    // AZ - 阿塞拜疆 - 连科兰区
    "Lankaran": "连科兰",

    // CA - 加拿大 - 安大略
    "Ottawa": "渥太华",

    // BD - 孟加拉 - 达卡专区
    "Bhātāra": "巴塔拉",

    // BD - 孟加拉 - 吉大港专区
    "Rāipur": "赖布尔",

    // BR - 巴西 - 圣保罗州
    "José Bonifácio": "若泽博尼法西奥市",
    "Osasco": "奥萨斯库",
    "São Paulo": "圣保罗",
    "Sao Paulo": "圣保罗",
    "Vinhedo": "维涅杜",

    // CL - 智利 - 圣地亚哥大区
    "Lampa": "兰帕",

    // CZ - 捷克 - 南波希米亚州
    "České Budějovice": "捷克布杰约维采",

    // CO - 哥伦比亚 - 昆迪纳马尔卡省
    "Cota": "科塔",

    // CR - 哥斯达黎加 - 圣何塞省
    "San José": "圣何塞",

    // DE - 德国 - 黑森州
    "Frankfurt": "法兰克福",
    "Frankfurt am Main": "法兰克福",
    "Frankfurt Am Main": "法兰克福",

    // ES - 西班牙 - 马德里自治区
    "Madrid": "马德里",

    // GB - 英国 - 英格兰
    "倫敦金融城": "伦敦",
    "Harlesden": "哈利斯登",
    "Hounslow": "伦敦",
    "Slough": "斯劳",

    // GR - 希腊 - 阿提卡大区
    "Porto Rafti": "波尔图拉夫提镇",

    // GT - 危地马拉 - 危地马拉
    "Guatemala City": "危地马拉城",

    // HK - 中国香港
    "Cheung Sha Wan": "长沙湾",
    "Sheung Wan": "上环",
    "The Latitude": "誉港湾",
    "Tseung Kwan O": "将军澳",
    "Tsuen Wan": "荃湾",
    "Tsing Yi": "青衣",

    // TW - 中国台湾 - 彰化县
    "Changhua": "彰化县",

    // TW - 中国台湾 - 桃园市
    "Taoyuan": "桃园区",

    // TW - 中国台湾 - 彰化县
    "Yuanlin": "员林镇",

    // HU - 匈牙利 - 佩斯州
    "Szigetszentmiklós": "锡盖特圣米克洛什",

    // ID - 印度尼西亚 - 东爪哇省
    "Gubengairlangga": "泗水市",

    // IL - 以色列 - 中央区
    "Rosh Ha‘Ayin": "罗什艾因",

    // IN - 印度 - 恰蒂斯加尔邦
    "BILASPUR": "比拉斯布尔",

    // IN - 印度 - 卡纳塔克邦
    "Badaganhatti": "巴达甘哈提",

    // IN - 印度 - 马哈拉施特拉邦
    "Mumbai": "孟买",
    "Santa Cruz": "圣克鲁斯",

    // IN - 印度 - 泰米尔纳德邦
    "Tiruvānmiyūr": "钦奈市",

    // IR - 伊朗 - 德黑兰省
    "Tehran": "德黑兰",
    
    // IT - 意大利 - 伦巴第大区
    "Milan": "米兰",
    "Milano": "米兰",
    "Gallarate": "加拉拉泰",
    "Ponte San Pietro": "蓬泰圣彼得罗",
    "Siziano": "西齐亚诺",

    // IT - 意大利 - 拉齐奥大区
    "Lido di Ostia": "奥斯蒂亚海滨",

    // JP - 日本 - 东京都
    "東京都": "涩谷区",
    "Chiyoda": "千代田区",
    "Chiyoda City": "千代田区",
    "Ebara": "品川区",
    "Shibuya": "涩谷区",

    // JP - 日本 - 埼玉县
    "Negishi": "根岸",

    // JP - 日本 - 大阪府
    "Osaka": "大阪市",
    "Ōkubo-naka": "熊取町",

    // KE - 肯尼亚 - 蒙巴萨郡
    "Mto Panga": "姆托潘加",

    // KR - 韩国 - 首尔
    "Dongjak-gu": "铜雀区",
    "Gasan-dong": "加山洞",
    "Gangnam-gu": "江南区",
    "Gangseo-gu": "江西区",
    "Gwanak-gu": "冠岳区",
    "Jowon-dong": "枣园洞",
    "Yongsan-dong": "龙山区",

    // KR - 韩国 - 京畿道
    "Bucheon-si": "富川市",
    "Gimpo-si": "金浦市",
    "Seongnam-si": "城南市",

    // KR - 韩国 - 大邱广域市
    "Yuseong-gu": "儒城区",

    // KR - 韩国 - 全罗北道
    "Gunsan": "群山市",
    "Muju-gun": "茂朱郡",

    // KR - 韩国 - 忠清北道
    "Cheongju-si": "清州市",
    "Yeongdong-gun": "永同郡",

    // KZ - 哈萨克斯坦 - 阿拉木图
    "Aqtöbe": "阿克托别",
    "Talghar": "塔尔加尔",

    // LU - 卢森堡 - 迪基希
    "Schieren": "希伦",

    // LU - 卢森堡 - 卢森堡市
    "Contern": "孔特恩",

    // LT - 立陶宛 - 维尔纽斯县
    "Vilnius": "维尔纽斯",

    // LV - 拉脱维亚 - 里加
    "Riga": "里加",

    // MX - 墨西哥 - 克雷塔罗州
    "Querétaro": "克雷塔罗",

    // MD - 摩尔多瓦 - 基希讷乌市政区
    "Sîngera": "辛热拉",

    // MN - 蒙古国 - 乌兰巴托市
    "Shara-Höbiin-Dugang": "乌兰巴托市",

    // MX - 墨西哥 - 瓦哈卡州
    "Bernal Díaz del Castillo": "贝尔纳尔·迪亚斯",

    // NG - 尼日利亚 - 拉各斯
    "拉哥斯": "拉各斯",

    // OM - 阿曼 - 马斯喀特省
    "Seeb": "锡卜",

    // PH - 菲律宾 - 大马尼拉都会区
    "Pasig": "帕西格市",
    "Taguig": "达义市",

    // PH - 菲律宾 - 北棉兰老
    "Impaya-ao": "布基农",

    // PT - 葡萄牙 - 维也纳堡区
    "Viana do Castelo": "维亚纳堡",

    // PT - 葡萄牙 - 塞图巴尔区
    "Montijo": "蒙蒂茹",

    // NO - 挪威 - 阿克什胡斯郡
    "Jessheim": "杰斯海姆",
    "Lorenskog": "勒伦斯科格",

    // RS - 塞尔维亚 - 贝尔格莱德
    "Rucka": "新贝尔格莱德",

    // RU - 俄罗斯 - 圣彼得堡
    "St Petersburg": "圣彼得堡",

    // RO - 罗马尼亚 - 伊尔福夫县
    "Voluntari": "沃伦塔里",

    // RO - 罗马尼亚 - 蒂米什县
    "Dumbrăviţa": "敦布勒维察",

    // SA - 沙特阿拉伯 - 利雅得省
    "Sha`ib al Malqah": "利雅得",

    // SE - 瑞典 - 斯德哥尔摩
    "Steninge": "斯特宁厄",

    // TR - 土耳其 - 科尼亚省
    "Karatay": "科尼亚市",

    // TR - 土耳其 - 伊斯坦布尔
    "Esenyurt": "埃森尤特区",
    "Kocasinan": "科卡西南",

    // TZ - 坦桑尼亚 - 桑给巴尔
    "Mtoni": "桑给巴尔市",

    // TH - 泰国 - 红统府
    "Ang Thong": "红统府",

    // UA - 乌克兰 - 基洛沃格勒州
    "Pomichna": "波莫什纳亚",

    // UA - 乌克兰 - 基辅州
    "Kyiv": "基辅",
    "Yahotyn": "亚霍廷区",

    // UA - 乌克兰 - 沃伦州
    "Lutsk": "卢茨克区",

    // US - 美国 - 加利福尼亚州
    "San Jose": "圣荷西",

    // US - 美国 - 弗吉尼亚州
    "Ashburn": "阿什本",
    "Boydton": "博伊顿",
    "Reston": "雷斯顿",

    // US - 美国 - 德克萨斯州
    "Aldine": "奥尔代恩",
    "Flower Mound": "弗洛尔蒙特",

    // US - 美国 - 俄亥俄州
    "Dublin": "都柏林",
    "Reynoldsburg": "雷诺兹堡",

    // US - 美国 - 纽约州
    "Cheektowaga": "奇克托瓦加镇",

    // US - 美国 - 新泽西州
    "Piscataway": "皮斯卡特维镇",
    "Secaucus": "锡考克斯镇",

    // US - 美国 - 伊利诺伊州
    "Elk Grove Village": "埃尔克格罗夫村",

    // VE - 委内瑞拉 - 米兰达州
    "Miranda": "加拉加斯市",

    // VN - 越南 - 胡志明市
    "Quận Phú Nhuận": "富润郡",

    // VN - 越南 - 河内市
    "Trâu Quỳ": "嘉林县",

    // VN - 越南 - 海阳省
    "Hải Dương": "海阳市",

    // ZW - 津巴布韦 - 奇通圭扎
    "Chitungwiza": "奇通圭扎",
  };

  return cityMap[para ? para.trim() : ""] || para || city0;
};

// ISP映射表
function ISP_ValidCheck(para) {
  return para || ips0;
};
